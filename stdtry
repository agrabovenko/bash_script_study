#!/bin/bash

DATE=$(date +%Y-%m-%d)
REPORT="system_report_$DATE.txt"

{
echo "==============================="
echo "      SYSTEM HEALTH REPORT"
echo "      $DATE"
echo "==============================="
echo

echo ">>> UPTIME:"
uptime
echo

echo ">>> LOAD AVERAGE:"
uptime | awk -F'load average:' '{print $2}'
echo

echo ">>> MEMORY USAGE:"
free -h
echo

echo ">>> DISK USAGE:"
df -h
echo

echo ">>> TOP 5 PROCESSES BY CPU:"
ps -eo pid,comm,%cpu --sort=-%cpu | head -n 6
echo

echo ">>> TOP 5 PROCESSES BY MEMORY:"
ps -eo pid,comm,%mem --sort=-%mem | head -n 6
echo

echo "Report generated at: $(date '+%H:%M:%S')"

} > "$REPORT"

echo "Report saved to $REPORT"
